<%- include('../partials/header', {title: 'Movies'}) %>

<main>
    <h2>Add New Movie</h2>
    <% if (errors && errors.length) { %>
        <div class="errors">
            <ul>
                <% errors.forEach(function(err){ %>
                    <li><%= err %></li>
                <% }) %>
            </ul>
        </div>
    <% } %>
    <div class="form-container">
        <form action="/movies/add" method="post">
            <div>
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required value="<%= old && old.title ? old.title : '' %>">
            </div>
            <div>
                <label for="description">Description</label>
                <input type="text" id="description" name="description" required value="<%= old && old.description ? old.description : '' %>">
            </div>
            <div>
                <label for="year">Year</label>
                <input type="text" id="year" name="year" required value="<%= old && old.year ? old.year : '' %>">
            </div>
            <div>
                <label>Rating</label>
                <div style="display:flex;gap:.5rem;flex-wrap:wrap">
                    <label><input type="radio" name="rating" value="1" required> 1</label>
                    <label><input type="radio" name="rating" value="2" required> 2</label>
                    <label><input type="radio" name="rating" value="3" required> 3</label>
                    <label><input type="radio" name="rating" value="4" required> 4</label>
                    <label><input type="radio" name="rating" value="5" required> 5</label>
                </div>
            </div>
            <div>
                <label for="genres">Genres (comma separated)</label>
                <input type="text" id="genres" name="genres" value="<%= old && old.genres ? old.genres : '' %>">
            </div>

            <button type="submit">Add Movie</button>
            <a href="/movies" class="secondary" style="margin-left:.5rem"><button type="button" class="secondary">Cancel</button></a>
        </form>
    </div>
</main>

<%- include('../partials/footer') %>