<%- include('../partials/header', {title: 'Movies'}) %>

<main>
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem;">
        <h2 style="margin:0;">Add New Movie</h2>
        <a href="/movies/mine">
            <button class="secondary" style="font-size:0.9rem;padding:0.5rem 1rem;">‚Üê Back to My Movies</button>
        </a>
    </div>
    <% if (errors && errors.length) { %>
        <div class="errors">
            <ul>
                <% errors.forEach(function(err){ %>
                    <li><%= err %></li>
                <% }) %>
            </ul>
        </div>
    <% } %>
    <div class="form-container">
        <form action="/movies/add" method="post">
            <div>
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required value="<%= old && old.title ? old.title : '' %>">
            </div>
            <div>
                <label for="description">Description</label>
                <textarea id="description" name="description" rows="4" required><%= old && old.description ? old.description : '' %></textarea>
            </div>
            <div>
                <label for="year">Year</label>
                <input type="text" id="year" name="year" required value="<%= old && old.year ? old.year : '' %>">
            </div>
            <div>
                <label for="genres">Genres (comma separated)</label>
                <input type="text" id="genres" name="genres" value="<%= old && old.genres ? old.genres : '' %>">
            </div>

            <button type="submit">Add Movie</button>
            <a href="/movies/mine" style="margin-left:.5rem">
                <button type="button" class="secondary">Cancel</button>
            </a>
        </form>
    </div>
</main>

<%- include('../partials/footer') %>